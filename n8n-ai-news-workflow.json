{
  "name": "AI News Aggregator - Kortex System",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 2
            }
          ]
        }
      },
      "id": "cron-trigger",
      "name": "Alle 2 Stunden",
      "type": "n8n-nodes-base.cron",
      "typeVersion": 1,
      "position": [240, 300],
      "notes": "Trigger alle 2 Stunden für aktuelle AI-News"
    },
    {
      "parameters": {
        "path": "ai-news-feed",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "webhook",
      "name": "AI News Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [240, 500],
      "webhookId": "ai-news-feed"
    },
    {
      "parameters": {
        "url": "https://ai.googleblog.com/feeds/posts/default"
      },
      "id": "rss-google-ai",
      "name": "RSS Feed Read - Google AI",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 200],
      "notes": "Lädt Google AI Blog RSS Feed"
    },
    {
      "parameters": {
        "url": "https://blog.n8n.io/rss.xml"
      },
      "id": "rss-n8n-blog",
      "name": "RSS Feed Read - n8n Blog",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 300],
      "notes": "Lädt n8n Blog RSS Feed"
    },
    {
      "parameters": {
        "url": "https://openai.com/blog/rss.xml"
      },
      "id": "rss-openai",
      "name": "RSS Feed Read - OpenAI",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 400],
      "notes": "Lädt OpenAI Blog RSS Feed"
    },
    {
      "parameters": {
        "url": "https://www.anthropic.com/news/rss.xml"
      },
      "id": "rss-anthropic",
      "name": "RSS Feed Read - Anthropic",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 500],
      "notes": "Lädt Anthropic News RSS Feed"
    },
    {
      "parameters": {
        "url": "https://huggingface.co/blog/rss.xml"
      },
      "id": "rss-huggingface",
      "name": "RSS Feed Read - Hugging Face",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 600],
      "notes": "Lädt Hugging Face Blog RSS Feed"
    },
    {
      "parameters": {
        "url": "https://the-decoder.de/feed/"
      },
      "id": "rss-decoder",
      "name": "RSS Feed Read - The Decoder",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 700],
      "notes": "Lädt The Decoder RSS Feed (Deutsche AI-News)"
    },
    {
      "parameters": {
        "url": "https://techcrunch.com/tag/artificial-intelligence/feed/"
      },
      "id": "rss-techcrunch",
      "name": "RSS Feed Read - TechCrunch AI",
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1,
      "position": [460, 800],
      "notes": "Lädt TechCrunch AI RSS Feed"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "Google AI",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "en",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-google-ai",
      "name": "Set - Google AI",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 200],
      "notes": "Fügt source und language für Google AI hinzu"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "n8n Blog",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "en",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-n8n-blog",
      "name": "Set - n8n Blog",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 300],
      "notes": "Fügt source und language für n8n Blog hinzu"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "OpenAI",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "en",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-openai",
      "name": "Set - OpenAI",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 400],
      "notes": "Fügt source und language für OpenAI hinzu"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "Anthropic",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "en",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-anthropic",
      "name": "Set - Anthropic",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 500],
      "notes": "Fügt source und language für Anthropic hinzu"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "Hugging Face",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "en",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-huggingface",
      "name": "Set - Hugging Face",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 600],
      "notes": "Fügt source und language für Hugging Face hinzu"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "The Decoder",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "de",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-decoder",
      "name": "Set - The Decoder",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 700],
      "notes": "Fügt source und language für The Decoder hinzu"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "source",
              "name": "source",
              "value": "TechCrunch AI",
              "type": "string"
            },
            {
              "id": "language",
              "name": "language",
              "value": "en",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "id": "set-techcrunch",
      "name": "Set - TechCrunch AI",
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.3,
      "position": [680, 800],
      "notes": "Fügt source und language für TechCrunch AI hinzu"
    },
    {
      "parameters": {
        "mode": "append",
        "options": {}
      },
      "id": "merge-feeds",
      "name": "Merge All Feeds",
      "type": "n8n-nodes-base.merge",
      "typeVersion": 2.1,
      "position": [900, 500],
      "notes": "Bündelt alle RSS Feeds zu einem Array"
    },
    {
      "parameters": {
        "jsCode": "// Alle Feeds kommen als ein Array von Items an\nconst items = $input.all();\nconst maxAge = 30 * 24 * 60 * 60 * 1000; // 30 Tage\nconst now = Date.now();\n\nconst aiKeywords = [\n  'ai', 'artificial intelligence', 'machine learning', 'llm', 'gemini', 'gpt', 'claude', \n  'automation', 'workflow', 'neural', 'deep learning', 'ki', 'kuenstliche intelligenz',\n  'mittelstand', 'kmu', 'sme', 'digitalisierung', 'industrie 4.0', 'prozessautomatisierung',\n  'rpa', 'robot process automation', 'chatbot', 'assistenzsystem', 'assistenzsysteme',\n  'datenanalyse', 'predictive analytics', 'computer vision', 'nlp', 'natural language processing'\n];\n\nconst processedItems = [];\n\nfor (const item of items) {\n  // Der RSS Read Node liefert die Daten bereits als JSON\n  const entry = item.json;\n\n  const title = (entry.title || '').trim();\n  // 'contentSnippet' statt 'description' vom RSS Read Node\n  const description = (entry.contentSnippet || entry.content || '').replace(/<[^>]*>/g, '').trim().substring(0, 200);\n  const link = (entry.link || '').trim();\n  // 'isoDate' statt 'pubDate' vom RSS Read Node\n  const pubDate = entry.isoDate || entry.pubDate || entry.date || '';\n  // Diese kommen jetzt aus unseren 'Set'-Nodes\n  const source = entry.source || 'Unknown'; \n  const language = entry.language || 'en';\n\n  if (!title || !link) continue;\n\n  const titleLower = title.toLowerCase();\n  const descLower = description.toLowerCase();\n\n  const isRelevant = aiKeywords.some(keyword => titleLower.includes(keyword) || descLower.includes(keyword));\n\n  if (isRelevant) {\n    // Kategorisierung\n    let category = 'große-modelle';\n    if (titleLower.includes('workflow') || titleLower.includes('n8n') || titleLower.includes('automation') || titleLower.includes('prozessautomatisierung')) {\n      category = 'workflow-tools';\n    } else if (titleLower.includes('sales') || titleLower.includes('hubspot') || titleLower.includes('crm') || titleLower.includes('vertrieb')) {\n      category = 'sales-tools';\n    } else if (titleLower.includes('mittelstand') || titleLower.includes('kmu') || titleLower.includes('sme') || titleLower.includes('unternehmen')) {\n      category = 'kmu-relevanz';\n    } else if (titleLower.includes('industrie') || titleLower.includes('produktion') || titleLower.includes('manufacturing')) {\n      category = 'industrie-4.0';\n    } else if (titleLower.includes('dienstleistung') || titleLower.includes('service') || titleLower.includes('beratung')) {\n      category = 'dienstleister-tools';\n    }\n    \n    const itemDate = pubDate ? new Date(pubDate) : new Date();\n    const age = now - itemDate.getTime();\n\n    // Nur News der letzten 30 Tage\n    if (age <= maxAge && age >= 0) {\n      processedItems.push({\n        title: title,\n        description: description,\n        link: link,\n        date: itemDate.toISOString(),\n        source: source,\n        category: category,\n        language: language\n      });\n    }\n  }\n}\n\n// Entferne Duplikate (nach Link)\nconst uniqueItems = processedItems.filter((item, index, self) => \n  index === self.findIndex(t => t.link === item.link)\n);\n\n// Sortiere nach Datum (neueste zuerst) und limitiere auf 15 News\nconst sortedItems = uniqueItems.sort((a, b) => new Date(b.date) - new Date(a.date)).slice(0, 15);\n\nreturn sortedItems.map(item => ({ json: item }));"
      },
      "id": "parse-rss",
      "name": "Parse RSS & Filter",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1120, 500],
      "notes": "Filtert und verarbeitet alle RSS Feeds"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict"
          },
          "conditions": [
            {
              "id": "trigger-check",
              "leftValue": "={{ $trigger.node.type }}",
              "rightValue": "n8n-nodes-base.webhook",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "id": "if-trigger-check",
      "name": "IF - Trigger Check",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1340, 500],
      "notes": "Prüft ob Workflow per Webhook gestartet wurde"
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={{ $json }}",
        "options": {}
      },
      "id": "respond-webhook",
      "name": "Respond to Webhook",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [1560, 400],
      "notes": "Gibt News als JSON zurück für Website (nur bei Webhook-Trigger)"
    },
    {
      "parameters": {
        "mode": "passThrough"
      },
      "id": "noop-cron",
      "name": "NoOp - Cron Trigger",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [1560, 600],
      "notes": "Platzhalter für Cron-Trigger-Pfad (optional: hier könnte z.B. Google Sheets, Discord etc. angeschlossen werden)"
    }
  ],
  "connections": {
    "Alle 2 Stunden": {
      "main": [
        [
          {
            "node": "RSS Feed Read - Google AI",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - n8n Blog",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - OpenAI",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - Anthropic",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - Hugging Face",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - The Decoder",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - TechCrunch AI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI News Webhook": {
      "main": [
        [
          {
            "node": "RSS Feed Read - Google AI",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - n8n Blog",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - OpenAI",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - Anthropic",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - Hugging Face",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - The Decoder",
            "type": "main",
            "index": 0
          },
          {
            "node": "RSS Feed Read - TechCrunch AI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - Google AI": {
      "main": [
        [
          {
            "node": "Set - Google AI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - n8n Blog": {
      "main": [
        [
          {
            "node": "Set - n8n Blog",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - OpenAI": {
      "main": [
        [
          {
            "node": "Set - OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - Anthropic": {
      "main": [
        [
          {
            "node": "Set - Anthropic",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - Hugging Face": {
      "main": [
        [
          {
            "node": "Set - Hugging Face",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - The Decoder": {
      "main": [
        [
          {
            "node": "Set - The Decoder",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "RSS Feed Read - TechCrunch AI": {
      "main": [
        [
          {
            "node": "Set - TechCrunch AI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - Google AI": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - n8n Blog": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - OpenAI": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - Anthropic": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - Hugging Face": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - The Decoder": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Set - TechCrunch AI": {
      "main": [
        [
          {
            "node": "Merge All Feeds",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge All Feeds": {
      "main": [
        [
          {
            "node": "Parse RSS & Filter",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse RSS & Filter": {
      "main": [
        [
          {
            "node": "IF - Trigger Check",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF - Trigger Check": {
      "main": [
        [
          {
            "node": "Respond to Webhook",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "NoOp - Cron Trigger",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "versionId": "1"
}
